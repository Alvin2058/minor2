{% include "header.html" %}

{% block content %}
  <h2>Leaderboard</h2>

  <style>
    .first {
      background-color: gold; /* Gold color for the top rank */
      color: black; /* Ensure text is readable on gold */
    }

    .second {
      background-color: silver; /* Silver color for the second rank */
      color: black; /* Ensure text is readable on silver */
    }

    .third {
      background-color: #cd7f32; /* Bronze color for the third rank */
      color: white; /* Ensure text is readable on bronze */
    }

    .table td, .table th {
      padding: 8px; 
      text-align: left; 
    }

    .table {
      width: 100%; /* Ensure table takes full width */
      border-collapse: collapse; /* Ensure borders are collapsed */
    }

    .table th, .table td {
      border: 1px solid #ddd; /* Add border to table cells */
    }
  </style>

  <table class="table">
    <thead>
      <tr>
        <th>Rank</th>
        <th>Username</th>
        <th>Total Questions</th>
        <th>Total Scored</th>
      </tr>
    </thead>
    <tbody>
      {% for score in top_scores %}
        <tr class="{% if forloop.first %}first{% elif forloop.counter == 2 %}second{% elif forloop.counter == 3 %}third{% endif %}">
          <td>{{ forloop.counter }}</td>
          <td>{{ score.username }}</td>
          <td>
            {% if score.user_id == request.user.id %}
              <a href="{% url 'user_history' score.user_id %}">{{ score.total_questions }}</a>
            {% else %}
              {{ score.total_questions }}
            {% endif %}
          </td>
          <td>{{ score.total_scored }}</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
{% endblock %}
